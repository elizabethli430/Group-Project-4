#include <iostream>
#include <string>
#include <fstream>        // Needed to use 
#include<ctime>
#include<cstdlib>
#include <stdio.h>
using namespace std;

void displayMenu();
void getChoice();
void registration();
void login();
void createMonster();
void arena();
void adminBuild();
void playerBuild();

int menu;
const int min = 1, max = 7;

int main()
{
	do
	{
		displayMenu();
		if (menu == 1)
		{
			registration();
		}
		if (menu == 2)
		{
			login();
		}
		if (menu == 3)
		{
			createMonster();
		}
		if (menu == 4)
		{
			arena();
		}
		if (menu == 5)
		{
			adminBuild();
		}
		if (menu == 6)
		{
			playerBuild();
		}
	} while (menu != 7);

	cout << "Goodbye!" << endl;
	return 0;
}

void displayMenu()
{

	string stars = "********************";

	cout << stars << stars << endl;
	cout << "Hello user!  What would you like to do?" << endl;
	cout << stars << stars << endl;
	cout << stars << stars << endl;
	cout << "1...Register" << endl
		<< "2...Login" << endl
		<< "3...Create a Monster" << endl
		<< "4...Enter the arena" << endl
		<< "5...See player log" << endl
		<< "6...See masterlog" << endl
		<< "7...Exit the program" << endl;
	cout << stars << stars << endl;
	cin >> menu;
	getChoice();
}

void getChoice()
{
	while (menu < min || menu > max)
	{
		cout << "Invalid input." << endl;
		cin >> menu;
	}
}

void registration()
{
		ofstream outputFile;
		string username, password;
		int admin;

		// Register a username
	Username:
		{
				cout << "Please enter your username." << endl;
				cout << "Username: ";
				cin >> username;
				cout << endl;
			if (username.length() < 6)
			{
				cout << "username length must be at least 6 characters long." << endl;
				goto Username;
			}
			else
			admincheck:
			cout << "are you a player, or an administrator?" << endl;
			cout << "1...i am a player." << endl;
			cout << "2...i am an administrator" << endl;
			cin >> admin;
			switch (admin)
			{
			case 1:
			{
					  username += "_player.txt";
					  break;
			}
			case 2:
			{
					  username += "_admin.txt";
					  break;
			}
			default:
				cout << "response not recognized." << endl;
				goto admincheck;
			}


			outputFile.open(username.c_str());  //  create a file for the new user.
		}
	password:
		cout << "password: ";
		cin >> password;
		if (password.length() < 6)
		{
			cout << "password length must be at least 6 characters long." << endl;
			goto password;
		}
		else
			// write the names to the file
			outputFile << password << endl;

		// close the file
		outputFile.close();

		cout << "registration complete!" << endl;

}

void login()
{
	cout << "2";
}

void createMonster()
{
	cout << "3";
}

void arena()
{
	cout << "4";
}

void adminBuild()
{
	cout << "5";
}

void playerBuild()
{
	cout << "6";
}
